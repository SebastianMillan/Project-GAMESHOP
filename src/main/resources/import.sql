INSERT INTO USUARIO (ID, DNI, NOMBRE, APELLIDOS, USERNAME, EMAIL, PASSWORD, TELEFONO, FECHA_NACIM, ADMIN) VALUES (80,'32132132Z','Sebastián','Millán Ordóñez','admin','millan.orseb23@triana.salesianos.edu','{bcrypt}$2a$10$RlcLSXIvm8VDjEBq19oB7OFEB3sJnxvJETStFrBeHwU1pYc0EGTTa','123123123','2000-07-26',true);
INSERT INTO USUARIO (ID, DNI, NOMBRE, APELLIDOS, USERNAME, EMAIL, PASSWORD, TELEFONO, FECHA_NACIM, ADMIN) VALUES (81,'12345678A', 'Juan', 'Pérez García', 'user', 'juanpg@email.com', '{bcrypt}$2a$10$bnFKD2JlOON0nuv94.KPqumWUSa9LORejpDtcumz/Vlg/diEjajzi', '555123456', '1990-01-01', false);
INSERT INTO USUARIO (ID, DNI, NOMBRE, APELLIDOS, USERNAME, EMAIL, PASSWORD, TELEFONO, FECHA_NACIM, ADMIN) VALUES (82,'87654321B', 'María', 'López Pérez', 'marialp', 'marialp@email.com', '{bcrypt}$2a$10$bnFKD2JlOON0nuv94.KPqumWUSa9LORejpDtcumz/Vlg/diEjajzi', '666987654', '1985-05-15', false);
INSERT INTO USUARIO (ID, DNI, NOMBRE, APELLIDOS, USERNAME, EMAIL, PASSWORD, TELEFONO, FECHA_NACIM, ADMIN) VALUES (83,'11111111A', 'Pedro', 'González Torres', 'pedrog', 'pedrog@email.com', '{bcrypt}$2a$10$RlcLSXIvm8VDjEBq19oB7OFEB3sJnxvJETStFrBeHwU1pYc0EGTTa', '777333444', '1988-10-31', true);
INSERT INTO USUARIO (ID, DNI, NOMBRE, APELLIDOS, USERNAME, EMAIL, PASSWORD, TELEFONO, FECHA_NACIM, ADMIN) VALUES (84,'22222222B', 'Ana', 'Sánchez Rodríguez', 'anasr', 'anasr@email.com', '{bcrypt}$2a$10$RlcLSXIvm8VDjEBq19oB7OFEB3sJnxvJETStFrBeHwU1pYc0EGTTa', '666111222', '1995-07-22', true);
INSERT INTO USUARIO (ID, DNI, NOMBRE, APELLIDOS, USERNAME, EMAIL, PASSWORD, TELEFONO, FECHA_NACIM, ADMIN) VALUES (85,'33333333C', 'Luis', 'García Fernández', 'luisgf', 'luisgf@email.com', '{bcrypt}$2a$10$bnFKD2JlOON0nuv94.KPqumWUSa9LORejpDtcumz/Vlg/diEjajzi', '555777888', '1992-12-18', false);
INSERT INTO USUARIO (ID, DNI, NOMBRE, APELLIDOS, USERNAME, EMAIL, PASSWORD, TELEFONO, FECHA_NACIM, ADMIN) VALUES (86,'44444444D', 'Carmen', 'Martínez García', 'carmeng', 'carmeng@email.com', '{bcrypt}$2a$10$bnFKD2JlOON0nuv94.KPqumWUSa9LORejpDtcumz/Vlg/diEjajzi', '555888999', '1998-03-09', false);
INSERT INTO USUARIO (ID, DNI, NOMBRE, APELLIDOS, USERNAME, EMAIL, PASSWORD, TELEFONO, FECHA_NACIM, ADMIN) VALUES (87,'66666666F', 'Marta', 'González Pérez', 'martagp', 'martagp@email.com', '{bcrypt}$2a$10$RlcLSXIvm8VDjEBq19oB7OFEB3sJnxvJETStFrBeHwU1pYc0EGTTa', '777666555', '1991-09-28', true);

INSERT INTO PRODUCTO(ID, CALIFICACION, DESCRIPCION, EMPRESA, FECHA_LANZAMIENTO, IMAGEN, NOMBRE, PRECIO_BASE, ES_EDIC_COLECCIONISTA, ES_PARA_RESERVAR, GENERO, PEGI, TIPO_DESARROLLO, PLATAFORMA) VALUES (1, 9.0, 'Videojuego de acción-aventura en mundo abierto', 'Ubisoft', '2020-11-10', 'https://media.vandal.net/t200/72324/assassins-creed-valhalla-202052220382111_1.jpg', 'Assassin''s Creed Valhalla', 59.99, false, false, 'ACCION', 'DIECIOCHO', 'AAA', 'Playstation 4');
INSERT INTO PRODUCTO(ID, CALIFICACION, DESCRIPCION, EMPRESA, FECHA_LANZAMIENTO, IMAGEN, NOMBRE, PRECIO_BASE, ES_EDIC_COLECCIONISTA, ES_PARA_RESERVAR, GENERO, PEGI, TIPO_DESARROLLO, PLATAFORMA) VALUES (3, 10.0, 'Videojuego de aventuras en mundo abierto', 'Nintendo', '2017-03-03', 'https://media.vandal.net/t200/43030/the-legend-of-zelda-breath-of-the-wild-201732131429_1.jpg', 'The Legend of Zelda: Breath of the Wild', 59.99, true, false, 'AVENTURA', 'SIETE', 'AAA', 'Nintendo Switch');
INSERT INTO PRODUCTO(ID, CALIFICACION, DESCRIPCION, EMPRESA, FECHA_LANZAMIENTO, IMAGEN, NOMBRE, PRECIO_BASE, ES_EDIC_COLECCIONISTA, ES_PARA_RESERVAR, GENERO, PEGI, TIPO_DESARROLLO, PLATAFORMA) VALUES (2, 8.5, 'Videojuego de acción en primera persona', 'Activision', '2019-10-25', 'https://media.vandal.net/t200/73758/call-of-duty-modern-warfare-2019-2019823127419_1.jpg', 'Call of Duty: Modern Warfare', 49.99, true, true, 'DISPAROS', 'DIECIOCHO', 'AAA', 'Xbox One');
INSERT INTO PRODUCTO(ID, CALIFICACION, DESCRIPCION, EMPRESA, FECHA_LANZAMIENTO, IMAGEN, NOMBRE, PRECIO_BASE, ES_EDIC_COLECCIONISTA, ES_PARA_RESERVAR, GENERO, PEGI, TIPO_DESARROLLO, PLATAFORMA) VALUES (4, 9.2, 'Un juego de rol épico con un vasto mundo abierto', 'CD Projekt', '2020-12-10', 'https://m.media-amazon.com/images/I/81Q8u826HqL._AC_SL1500_.jpg', 'Cyberpunk 2077', 59.99, true, false, 'RPG', 'DIECIOCHO', 'AAA', 'Xbox one');
INSERT INTO PRODUCTO(ID, CALIFICACION, DESCRIPCION, EMPRESA, FECHA_LANZAMIENTO, IMAGEN, NOMBRE, PRECIO_BASE, ES_EDIC_COLECCIONISTA, ES_PARA_RESERVAR, GENERO, PEGI, TIPO_DESARROLLO, PLATAFORMA) VALUES (5, 9.0, 'Un juego de aventuras y acción en tercera persona', 'Rockstar Games', '2018-10-26', 'https://m.media-amazon.com/images/I/71SyRObF2yL._AC_SX385_.jpg', 'Red Dead Redemption 2', 59.99, true, false, 'ACCION', 'DIECIOCHO', 'AAA', 'Playstation 4');
INSERT INTO PRODUCTO(ID, CALIFICACION, DESCRIPCION, EMPRESA, FECHA_LANZAMIENTO, IMAGEN, NOMBRE, PRECIO_BASE, ES_EDIC_COLECCIONISTA, ES_PARA_RESERVAR, GENERO, PEGI, TIPO_DESARROLLO, PLATAFORMA) VALUES (6, 8.8, 'Un juego de estrategia en tiempo real', 'Blizzard Entertainment', '2010-07-27', 'https://i.3djuegos.com/juegos/2230/starcraft_2/fotos/ficha/starcraft_2-1684478.jpg', 'Starcraft II: Wings of Liberty', 29.99, false, false, 'ESTRATEGIA', 'DOCE', 'AAA', 'PC');
INSERT INTO PRODUCTO(ID, CALIFICACION, DESCRIPCION, EMPRESA, FECHA_LANZAMIENTO, IMAGEN, NOMBRE, PRECIO_BASE, ES_EDIC_COLECCIONISTA, ES_PARA_RESERVAR, GENERO, PEGI, TIPO_DESARROLLO, PLATAFORMA) VALUES (7, 8.7, 'Un juego de simulación de construcción y gestión de ciudades', 'Paradox Interactive', '2021-03-16', 'https://i.3djuegos.com/juegos/11288/cities_skylines/fotos/ficha/cities_skylines-2708655.jpg', 'Cities: Skylines', 39.99, false, false, 'SIMULACION', 'TRES', 'INDIE', 'PC');
INSERT INTO PRODUCTO(ID, CALIFICACION, DESCRIPCION, EMPRESA, FECHA_LANZAMIENTO, IMAGEN, NOMBRE, PRECIO_BASE, ES_EDIC_COLECCIONISTA, ES_PARA_RESERVAR, GENERO, PEGI, TIPO_DESARROLLO, PLATAFORMA) VALUES (8, 9.1, 'Un juego de sigilo y acción en tercera persona', 'Konami', '2015-09-01', 'https://m.media-amazon.com/images/I/71tI3My3nPS._AC_SX385_.jpg', 'Metal Gear Solid V: The Phantom Pain', 49.99, true, false, 'ACCION', 'DIECIOCHO', 'AAA', 'PlayStation 4');
INSERT INTO PRODUCTO(ID, CALIFICACION, DESCRIPCION, EMPRESA, FECHA_LANZAMIENTO, IMAGEN, NOMBRE, PRECIO_BASE, ES_EDIC_COLECCIONISTA, ES_PARA_RESERVAR, GENERO, PEGI, TIPO_DESARROLLO, PLATAFORMA) VALUES (9, 9.7, 'Videojuego de acción-aventura en mundo de fantasía medieval', 'Fromsoftware', '2022-02-11', 'https://cdn-products.eneba.com/resized-products/b6u1lCezV7GMF9fTkjcVlO71rp7Gz2Xf-7kl3WXPjCI_350x200_1x-0.jpeg', 'Elden Ring', 69.99, false, false, 'RPG', 'DIECIOCHO', 'AAA', 'Playstation 4');
INSERT INTO PRODUCTO(ID, CALIFICACION, DESCRIPCION, EMPRESA, FECHA_LANZAMIENTO, IMAGEN, NOMBRE, PRECIO_BASE, ES_EDIC_COLECCIONISTA, ES_PARA_RESERVAR, GENERO, PEGI, TIPO_DESARROLLO, PLATAFORMA) VALUES (10, 9.7, 'Videojuego simulación vida en un pueblo', 'Nintendo', '2020-07-15', 'https://media.vandal.net/t200/65557/animal-crossing-new-horizons-202011012375667_1.jpg', 'Animal Crossing: New Horizons', 49.99, false, false, 'SIMULACION', 'TRES', 'AAA', 'Nintendo Switch');
INSERT INTO PRODUCTO(ID, CALIFICACION, DESCRIPCION, EMPRESA, FECHA_LANZAMIENTO, IMAGEN, NOMBRE, PRECIO_BASE, ES_EDIC_COLECCIONISTA, ES_PARA_RESERVAR, GENERO, PEGI, TIPO_DESARROLLO, PLATAFORMA) VALUES (11, 9.8, 'Videojuego de aventuras por mundos de fantasía', 'Nintendo', '2017-10-27', 'https://media.vandal.net/t200/43395/super-mario-odyssey-2017102611035_25.jpg', 'Super Mario Odyssey', 49.99, false, false, 'AVENTURA', 'SIETE', 'AAA', 'Nintendo Switch');
INSERT INTO PRODUCTO(ID, CALIFICACION, DESCRIPCION, EMPRESA, FECHA_LANZAMIENTO, IMAGEN, NOMBRE, PRECIO_BASE, ES_EDIC_COLECCIONISTA, ES_PARA_RESERVAR, GENERO, PEGI, TIPO_DESARROLLO, PLATAFORMA) VALUES (12, 9.5, 'Videojuego de acción y pelea con diferentes personajes famosos', 'Nintendo', '2018-11-22', 'https://media.vandal.net/t200/58489/super-smash-bros-ultimate-2018112212474987_1.jpg', 'Super Smash Bros. Ultimate', 69.99, false, false, 'ACCION', 'DOCE', 'AAA', 'Nintendo Switch');
INSERT INTO PRODUCTO(ID, CALIFICACION, DESCRIPCION, EMPRESA, FECHA_LANZAMIENTO, IMAGEN, NOMBRE, PRECIO_BASE, ES_EDIC_COLECCIONISTA, ES_PARA_RESERVAR, GENERO, PEGI, TIPO_DESARROLLO, PLATAFORMA) VALUES (13, 8.2, 'Videojuego de simulación de fútbol', 'EA SPORTS', '2022-09-27', 'https://m.media-amazon.com/images/I/717PlYzBroL._AC_SX385_.jpg', 'FIFA 23', 69.99, false, false, 'DEPORTES', 'TRES', 'AAA', 'Playstation 4');
INSERT INTO PRODUCTO(ID, CALIFICACION, DESCRIPCION, EMPRESA, FECHA_LANZAMIENTO, IMAGEN, NOMBRE, PRECIO_BASE, ES_EDIC_COLECCIONISTA, ES_PARA_RESERVAR, GENERO, PEGI, TIPO_DESARROLLO, PLATAFORMA) VALUES (14, 9.8, 'Videojuego de acción-aventura en la mitología nordica', 'Santa Monica Studios', '2022-11-17', 'https://media.vandal.net/t200/101651/god-of-war-ragnarok-2022101310444391_1.jpg', 'God of War: Ragnarok', 69.99, false, false, 'ACCION', 'DIECIOCHO', 'AAA', 'Playstation 4');
INSERT INTO PRODUCTO(ID, CALIFICACION, DESCRIPCION, EMPRESA, FECHA_LANZAMIENTO, IMAGEN, NOMBRE, PRECIO_BASE, ES_EDIC_COLECCIONISTA, ES_PARA_RESERVAR, GENERO, PEGI, TIPO_DESARROLLO, PLATAFORMA) VALUES (15, 9.5, 'Videojuego de aventura 2D', 'Team Cherry', '2017-10-28', 'https://cdn-products.eneba.com/resized-products/HK8Y4XCad899gU0B8sdB43N0oOBRvAnXoDT4y_OD-Z0_350x200_3x-0.jpeg', 'Hollow Knight', 29.99, false, false, 'AVENTURA', 'SIETE', 'INDIE', 'Xbox One');
INSERT INTO PRODUCTO(ID, CALIFICACION, DESCRIPCION, EMPRESA, FECHA_LANZAMIENTO, IMAGEN, NOMBRE, PRECIO_BASE, ES_EDIC_COLECCIONISTA, ES_PARA_RESERVAR, GENERO, PEGI, TIPO_DESARROLLO, PLATAFORMA) VALUES (16, 9.2, 'Videojuego de carreras por las calles de Mexico', 'Playground Games', '2019-02-18', 'https://images.g2a.com/1024x768/1x1x0/forza-horizon-5-premium-edition-xbox-series-x-s-windows-10-xbox-live-key-global-i10000256484032/f29bad088569419699a929ee', 'Forza Horizon 5', 59.99, false, false, 'SIMULACION', 'DOCE', 'AAA', 'Xbox One');


INSERT INTO VENTA (ID, FECHA, IMPORTE_TOTAL, IS_OPEN, USUARIO_ID) VALUES (40, '2022-05-01 15:30:00', 0, false, 80);
INSERT INTO VENTA (ID, FECHA, IMPORTE_TOTAL, IS_OPEN, USUARIO_ID) VALUES (41, '2023-05-08 10:00:00', 0, false, 81);
INSERT INTO VENTA (ID, FECHA, IMPORTE_TOTAL, IS_OPEN, USUARIO_ID) VALUES (42, '2022-04-30 18:45:00', 0, false, 81);
INSERT INTO VENTA (ID, FECHA, IMPORTE_TOTAL, IS_OPEN, USUARIO_ID) VALUES (43, '2022-06-15 12:00:00', 0, false, 86);
INSERT INTO VENTA (ID, FECHA, IMPORTE_TOTAL, IS_OPEN, USUARIO_ID) VALUES (44, '2022-12-01 18:45:00', 0, false, 82);
INSERT INTO VENTA (ID, FECHA, IMPORTE_TOTAL, IS_OPEN, USUARIO_ID) VALUES (45, '2021-03-13 18:45:00', 0, false, 84);
INSERT INTO VENTA (ID, FECHA, IMPORTE_TOTAL, IS_OPEN, USUARIO_ID) VALUES (46, '2023-02-15 12:20:00', 0, false, 87);
INSERT INTO VENTA (ID, FECHA, IMPORTE_TOTAL, IS_OPEN, USUARIO_ID) VALUES (47, '2021-01-22 19:30:00', 0, false, 81);

--Hibernate: create table venta (id bigint not null, fecha timestamp, importe_total double not null, is_open boolean not null, usuario_id bigint, primary key (id))
--Hibernate: create table linea_venta (linea_venta_id bigint not null, venta_id bigint not null, cantidad integer not null, importe double not null, precio_unitario double not null, producto_id bigint, primary key (linea_venta_id, venta_id))

INSERT INTO LINEA_VENTA(LINEA_VENTA_ID, VENTA_ID, CANTIDAD, IMPORTE, PRECIO_UNITARIO, PRODUCTO_ID) VALUES (1, 41, 2, 20, 20, 2);
INSERT INTO LINEA_VENTA(LINEA_VENTA_ID, VENTA_ID, CANTIDAD, IMPORTE, PRECIO_UNITARIO, PRODUCTO_ID) VALUES (2, 41, 1, 20, 20, 3);
INSERT INTO LINEA_VENTA(LINEA_VENTA_ID, VENTA_ID, CANTIDAD, IMPORTE, PRECIO_UNITARIO, PRODUCTO_ID) VALUES (1, 47, 2, 20, 20, 2);
INSERT INTO LINEA_VENTA(LINEA_VENTA_ID, VENTA_ID, CANTIDAD, IMPORTE, PRECIO_UNITARIO, PRODUCTO_ID) VALUES (3, 41, 3, 20, 20, 4);
INSERT INTO LINEA_VENTA(LINEA_VENTA_ID, VENTA_ID, CANTIDAD, IMPORTE, PRECIO_UNITARIO, PRODUCTO_ID) VALUES (1, 42, 4, 20, 20, 5);
INSERT INTO LINEA_VENTA(LINEA_VENTA_ID, VENTA_ID, CANTIDAD, IMPORTE, PRECIO_UNITARIO, PRODUCTO_ID) VALUES (2, 42, 2, 20, 20, 6);
INSERT INTO LINEA_VENTA(LINEA_VENTA_ID, VENTA_ID, CANTIDAD, IMPORTE, PRECIO_UNITARIO, PRODUCTO_ID) VALUES (2, 47, 1, 20, 20, 5);
INSERT INTO LINEA_VENTA(LINEA_VENTA_ID, VENTA_ID, CANTIDAD, IMPORTE, PRECIO_UNITARIO, PRODUCTO_ID) VALUES (3, 47, 1, 20, 20, 6);
INSERT INTO LINEA_VENTA(LINEA_VENTA_ID, VENTA_ID, CANTIDAD, IMPORTE, PRECIO_UNITARIO, PRODUCTO_ID) VALUES (1, 40, 4, 20, 20, 8);
INSERT INTO LINEA_VENTA(LINEA_VENTA_ID, VENTA_ID, CANTIDAD, IMPORTE, PRECIO_UNITARIO, PRODUCTO_ID) VALUES (1, 43, 2, 20, 20, 4);
INSERT INTO LINEA_VENTA(LINEA_VENTA_ID, VENTA_ID, CANTIDAD, IMPORTE, PRECIO_UNITARIO, PRODUCTO_ID) VALUES (1, 44, 3, 20, 20, 5);
INSERT INTO LINEA_VENTA(LINEA_VENTA_ID, VENTA_ID, CANTIDAD, IMPORTE, PRECIO_UNITARIO, PRODUCTO_ID) VALUES (1, 45, 2, 20, 20, 2);
INSERT INTO LINEA_VENTA(LINEA_VENTA_ID, VENTA_ID, CANTIDAD, IMPORTE, PRECIO_UNITARIO, PRODUCTO_ID) VALUES (1, 46, 1, 20, 20, 1);


--SELECT precio_unitario FROM producto WHERE id = producto_id
--como se puede modificar el atributo de una pojo en funcion de otro atributo
--USAR UPDATE
--USAR SUBCONSULTA ESCALAR PARA EL VALOR

UPDATE LINEA_VENTA LV SET PRECIO_UNITARIO = {SELECT P.PRECIO_BASE FROM PRODUCTO P WHERE P.ID=LV.PRODUCTO_ID};
UPDATE LINEA_VENTA LV SET IMPORTE = (LV.CANTIDAD*LV.PRECIO_UNITARIO);
UPDATE VENTA V SET IMPORTE_TOTAL = {SELECT SUM(IMPORTE) FROM LINEA_VENTA LV WHERE V.ID=LV.VENTA_ID};

ALTER SEQUENCE hibernate_sequence RESTART WITH 1000;